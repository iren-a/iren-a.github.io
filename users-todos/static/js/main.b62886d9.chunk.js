(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,o){e.exports=o(49)},39:function(e,t,o){},49:function(e,t,o){"use strict";o.r(t);var n,r,a,c,s,i=o(0),u=o.n(i),d=o(30),l=o.n(d),p=(o(39),o(6)),m=o(7),h=o(9),f=o(8),O=o(10),b=o(14),E=o(11),_=o(3),j=o(52),T=o(51),S=Object(T.a)("GET_USERS_REQUEST","GET_USERS_SUCCESS","GET_USERS_FAILURE"),v=S.getUsersRequest,y=S.getUsersSuccess,g=S.getUsersFailure,N=Object(j.a)((n={},Object(_.a)(n,v.toString(),function(){return!1}),Object(_.a)(n,y.toString(),function(){return!0}),Object(_.a)(n,g.toString(),function(){return!1}),n),!1),D=Object(j.a)(Object(_.a)({},y.toString(),function(e,t){return t.payload}),[]),U=Object(j.a)(Object(_.a)({},g.toString(),function(e,t){return t.payload}),null),I=Object(E.c)({isLoaded:N,users:D,error:U}),k=Object(T.a)("GET_TODOS_REQUEST","GET_TODOS_SUCCESS","GET_TODOS_FAILURE"),C=k.getTodosRequest,R=k.getTodosSuccess,w=k.getTodosFailure,L=Object(T.a)("REMOVE_TODO","REMOVE_TODO_SUCCESS","REMOVE_TODO_FAILURE"),F=L.removeTodo,A=L.removeTodoSuccess,q=L.removeTodoFailure,G=Object(T.a)("ADD_TODO","ADD_TODO_SUCCESS","ADD_TODO_FAILURE"),x=G.addTodo,P=G.addTodoSuccess,M=G.addTodoFailure,V=Object(T.a)("EDIT_TODO","EDIT_TODO_SUCCESS","EDIT_TODO_FAILURE"),B=V.editTodo,J=V.editTodoSuccess,Q=V.editTodoFailure,X=Object(j.a)((r={},Object(_.a)(r,C.toString(),function(){return!1}),Object(_.a)(r,R.toString(),function(){return!0}),Object(_.a)(r,w.toString(),function(){return!1}),r),!1),z=Object(j.a)((a={},Object(_.a)(a,B.toString(),function(){return!1}),Object(_.a)(a,J.toString(),function(){return!0}),Object(_.a)(a,Q.toString(),function(){return!1}),Object(_.a)(a,x.toString(),function(){return!1}),Object(_.a)(a,P.toString(),function(){return!0}),Object(_.a)(a,M.toString(),function(){return!1}),a),!1),H=Object(j.a)((c={},Object(_.a)(c,R.toString(),function(e,t){return t.payload}),Object(_.a)(c,A.toString(),function(e,t){var o=t.payload;return e.filter(function(e){return e.id!==o})}),c),[]),K=Object(j.a)((s={},Object(_.a)(s,w.toString(),function(e,t){return t.payload}),Object(_.a)(s,q.toString(),function(e,t){return t.payload}),Object(_.a)(s,M.toString(),function(e,t){return t.payload}),Object(_.a)(s,Q.toString(),function(e,t){return t.payload}),s),null),W=Object(E.c)({isLoaded:X,todos:H,error:K,isProcessedTodo:z}),Y=Object(E.c)({processUsers:I,processTodos:W}),Z=function(e){return fetch("http://localhost:3000/".concat(e),{method:"GET",mode:"cors"}).then(function(e){return e.json()})},$=function(e){return function(t){return function(o){var n,r;return o.type===v.toString()&&Z(o.payload).then(function(t){e.dispatch(y(t))}).catch(function(t){e.dispatch(g(t))}),o.type===C.toString()&&Z(o.payload).then(function(t){e.dispatch(R(t))}).catch(function(t){e.dispatch(w(t))}),o.type===F.toString()&&(n="todos",r=o.payload,fetch("http://localhost:3000/".concat(n,"/").concat(r),{method:"DELETE",mode:"cors"})).then(function(t){e.dispatch(A(o.payload))}).catch(function(t){e.dispatch(q(t))}),o.type===x.toString()&&function(e,t){return fetch("http://localhost:3000/".concat(e),{method:"POST",mode:"cors",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()})}("todos",o.payload).then(function(t){e.dispatch(P(o.payload))}).catch(function(t){e.dispatch(M(t))}),o.type===B.toString()&&function(e,t){return fetch("http://localhost:3000/".concat(e),{method:"PUT",mode:"cors",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(function(e){return e.json()})}("todos/".concat(o.payload.id),o.payload).then(function(t){e.dispatch(J(o.payload))}).catch(function(t){e.dispatch(Q(t))}),t(o)}}},ee=o(53),te=o(55),oe=o(54),ne=o(50),re=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"user-list__user"},u.a.createElement(ne.a,{className:"user-list__link",to:"/user/".concat(this.props.user.id,"/todos")},u.a.createElement("div",{className:"user-list__name"},this.props.user.name),u.a.createElement("div",{className:"user-list__email"},this.props.user.email),u.a.createElement("div",{className:"user-list__phone"},this.props.user.phone)))}}]),t}(u.a.Component),ae=function(e){return e.processUsers.users},ce=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.error?u.a.createElement("div",null,"Error: ",this.props.error.message):this.props.isLoaded?u.a.createElement("div",{className:"user-list"},u.a.createElement("h1",{className:"user-list__header"},"User list"),u.a.createElement("ul",{className:"user-list__users"},this.props.users.map(function(e){return u.a.createElement(re,{user:e,key:e.id})}))):u.a.createElement("div",null,"Loading...")}},{key:"componentDidMount",value:function(){this.props.getUsersRequest("users")}}]),t}(u.a.Component),se={getUsersRequest:v},ie=Object(b.b)(function(e){return{isLoaded:function(e){return e.processUsers.isLoaded}(e),users:ae(e),error:function(e){return e.processUsers.error}(e)}},se)(ce),ue=function(e){function t(){var e,o;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._remove=function(e){e.preventDefault(),window.confirm("Do you want to delete the todo?")&&o.props.removeTodo(o.props.todo.id)},o}return Object(O.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return u.a.createElement("li",{className:"todo"},u.a.createElement("div",{className:"todo__id"},this.props.todo.id),u.a.createElement("div",{className:"todo__tilte"},this.props.todo.title),u.a.createElement("div",{className:"todo__completed"},this.props.todo.completed?"compleded":"in process"),u.a.createElement("button",{className:"todo__delete btn",onClick:this._remove},"Delete"),u.a.createElement(ne.a,{className:"todo__edit btn",to:"/user/".concat(this.props.todo.userId,"/todo/").concat(this.props.todo.id,"/todo-form")},u.a.createElement("div",null,"Edit")))}}]),t}(u.a.Component),de={removeTodo:F},le=Object(b.b)(null,de)(ue),pe=function(e){return e.processTodos.todos},me=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;if(this.props.error)return u.a.createElement("div",null,"Error: ",this.props.error.message);if(this.props.isLoaded){var t=this.props.users.find(function(t){return t.id===+e.props.match.params.userId});return u.a.createElement("div",{className:"user-todos"},u.a.createElement(ne.a,{className:"btn",to:"/"},u.a.createElement("div",null,"Back to all users")),u.a.createElement("h1",{className:"user-todos__header"},"User todos"),u.a.createElement(ne.a,{className:"btn",to:"/user/".concat(this.props.match.params.userId,"/todo-form")},u.a.createElement("div",{className:"user-todo__add"},"Add todo")),u.a.createElement("div",{className:"user-todos__wrapper"},u.a.createElement("div",{className:"user-todos__user-info"},u.a.createElement("div",null,t.name),u.a.createElement("div",null,t.username),u.a.createElement("div",null,t.email),u.a.createElement("div",null,t.phone),u.a.createElement("div",null,t.website)),u.a.createElement("div",{className:"user-todos__list"},u.a.createElement("ul",null,this.props.todos.map(function(e){return u.a.createElement(le,{todo:e,key:e.id})})))))}return u.a.createElement("div",null,"Loading...")}},{key:"componentDidMount",value:function(){this.props.getTodosRequest("users/".concat(this.props.match.params.userId,"/todos"))}}]),t}(u.a.Component),he={getTodosRequest:C},fe=Object(b.b)(function(e){return{isLoaded:function(e){return e.processTodos.isLoaded}(e),todos:pe(e),users:ae(e),error:function(e){return e.processTodos.error}(e)}},he)(me),Oe=function(e){function t(){var e,o;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._addTodo=function(e){e.preventDefault(),o.props.addTodo({userId:+o.props.match.params.userId,title:o._title.value,completed:o._completed.checked})},o._editTodo=function(e){e.preventDefault(),o.props.editTodo({userId:+o.props.match.params.userId,id:+o.props.match.params.todoId,title:o._title.value,completed:o._completed.checked})},o._cancel=function(e){e.preventDefault(),o.props.history.goBack()},o}return Object(O.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.todos.find(function(t){return t.id===+e.props.match.params.todoId})||{title:"",completed:!1};return u.a.createElement("form",{className:"todo-form",onSubmit:this.props.match.params.todoId?this._editTodo:this._addTodo},u.a.createElement("div",{className:"todo-form__fieldset"},u.a.createElement("label",{className:"todo-form__label",htmlFor:"id"},"Title"),u.a.createElement("input",{type:"text",id:"title",defaultValue:t.title,required:!0,ref:function(t){return e._title=t}})),u.a.createElement("div",{className:"todo-form__fieldset"},u.a.createElement("label",{className:"todo-form__label",htmlFor:"completed"},"Completed"),t.completed?u.a.createElement("input",{type:"checkbox",name:"status-toggle",value:"status",id:"completed",defaultChecked:!0,ref:function(t){return e._completed=t}}):u.a.createElement("input",{type:"checkbox",name:"status-toggle",value:"status",id:"completed",ref:function(t){return e._completed=t}})),u.a.createElement("div",{className:"todo-form__button-container"},u.a.createElement("button",{className:"btn",type:"submit"},"Save"),u.a.createElement("button",{className:"btn",type:"button",onClick:this._cancel},"Cancel")))}},{key:"componentDidUpdate",value:function(){this.props.isProcessedTodo&&this.props.history.goBack()}}]),t}(u.a.Component),be={addTodo:x,editTodo:B},Ee=Object(b.b)(function(e){return{todos:pe(e),isProcessedTodo:function(e){return e.processTodos.isProcessedTodo}(e)}},be)(Oe),_e=Object(E.e)(Y,Object(E.d)(Object(E.a)($),window.devToolsExtension?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),je=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return u.a.createElement(b.a,{store:_e},u.a.createElement(ee.a,null,u.a.createElement(te.a,null,u.a.createElement(oe.a,{exact:!0,path:"/",component:ie}),u.a.createElement(oe.a,{path:"/user/:userId/todos",component:fe}),u.a.createElement(oe.a,{path:"/user/:userId/todo-form",component:Ee}),u.a.createElement(oe.a,{path:"/user/:userId/todo/:todoId/todo-form",component:Ee}))))}}]),t}(u.a.Component);l.a.render(u.a.createElement(je,null),document.getElementById("root"))}},[[34,2,1]]]);
//# sourceMappingURL=main.b62886d9.chunk.js.map